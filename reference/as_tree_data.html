<!DOCTYPE html>
<!-- Generated by pkgdown: do not edit by hand --><html lang="en"><head><meta http-equiv="Content-Type" content="text/html; charset=UTF-8"><meta charset="utf-8"><meta http-equiv="X-UA-Compatible" content="IE=edge"><meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no"><title>Convert one of numerous data types to tree_network's 'native' treenetdf form — as_tree_data • network.r2d3</title><script src="../deps/jquery-3.6.0/jquery-3.6.0.min.js"></script><meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no"><link href="../deps/bootstrap-5.3.1/bootstrap.min.css" rel="stylesheet"><script src="../deps/bootstrap-5.3.1/bootstrap.bundle.min.js"></script><link href="../deps/font-awesome-6.5.2/css/all.min.css" rel="stylesheet"><link href="../deps/font-awesome-6.5.2/css/v4-shims.min.css" rel="stylesheet"><script src="../deps/headroom-0.11.0/headroom.min.js"></script><script src="../deps/headroom-0.11.0/jQuery.headroom.min.js"></script><script src="../deps/bootstrap-toc-1.0.1/bootstrap-toc.min.js"></script><script src="../deps/clipboard.js-2.0.11/clipboard.min.js"></script><script src="../deps/search-1.0.0/autocomplete.jquery.min.js"></script><script src="../deps/search-1.0.0/fuse.min.js"></script><script src="../deps/search-1.0.0/mark.min.js"></script><!-- pkgdown --><script src="../pkgdown.js"></script><meta property="og:title" content="Convert one of numerous data types to tree_network's 'native' treenetdf form — as_tree_data"><meta name="description" content="The tree_network function uses a 'native' data format that consists of a data
frame with minimally 2 vectors/columns, one named 'nodeId' and one named
'parentId'. Other columns in the data frame are also passed on to the
JavaScript code and attached to the elements in the D3 visualization so that
they can potentially be accessed by other JavaScript functions. This is an
advantageous format because:
it's an easy to use and understand R-like format
a hierarchical network can be succinctly defined by a list of each unique
node and its parent node
since each row defines a unique node, additional columns can be added to
add node-specific properties
in a hierarchical network, every link/edge can be uniquely identified by
the node which it leads to, therefore each link/edge can also be specifically
addressed by adding columns for formatting of the incoming link


as_tree_data can convert from any of the following data types:
leafpathdf (table)–parent|parent|node–data.frame
hierarchical nested list (JSON)
hclust
data.tree Node
igraph
ape phylo

"><meta property="og:description" content="The tree_network function uses a 'native' data format that consists of a data
frame with minimally 2 vectors/columns, one named 'nodeId' and one named
'parentId'. Other columns in the data frame are also passed on to the
JavaScript code and attached to the elements in the D3 visualization so that
they can potentially be accessed by other JavaScript functions. This is an
advantageous format because:
it's an easy to use and understand R-like format
a hierarchical network can be succinctly defined by a list of each unique
node and its parent node
since each row defines a unique node, additional columns can be added to
add node-specific properties
in a hierarchical network, every link/edge can be uniquely identified by
the node which it leads to, therefore each link/edge can also be specifically
addressed by adding columns for formatting of the incoming link


as_tree_data can convert from any of the following data types:
leafpathdf (table)–parent|parent|node–data.frame
hierarchical nested list (JSON)
hclust
data.tree Node
igraph
ape phylo

"></head><body>
    <a href="#main" class="visually-hidden-focusable">Skip to contents</a>


    <nav class="navbar navbar-expand-lg fixed-top bg-light" data-bs-theme="light" aria-label="Site navigation"><div class="container">

    <a class="navbar-brand me-2" href="../index.html">network.r2d3</a>

    <small class="nav-text text-muted me-auto" data-bs-toggle="tooltip" data-bs-placement="bottom" title="">0.0.0.9000</small>


    <button class="navbar-toggler" type="button" data-bs-toggle="collapse" data-bs-target="#navbar" aria-controls="navbar" aria-expanded="false" aria-label="Toggle navigation">
      <span class="navbar-toggler-icon"></span>
    </button>

    <div id="navbar" class="collapse navbar-collapse ms-3">
      <ul class="navbar-nav me-auto"><li class="active nav-item"><a class="nav-link" href="../reference/index.html">Reference</a></li>
      </ul><ul class="navbar-nav"><li class="nav-item"><form class="form-inline" role="search">
 <input class="form-control" type="search" name="search-input" id="search-input" autocomplete="off" aria-label="Search site" placeholder="Search for" data-search-index="../search.json"></form></li>
<li class="nav-item"><a class="external-link nav-link" href="https://github.com/cjyetman/network.r2d3/" aria-label="GitHub"><span class="fa fab fa-github fa-lg"></span></a></li>
      </ul></div>


  </div>
</nav><div class="container template-reference-topic">
<div class="row">
  <main id="main" class="col-md-9"><div class="page-header">

      <h1>Convert one of numerous data types to tree_network's 'native' treenetdf form</h1>
      <small class="dont-index">Source: <a href="https://github.com/cjyetman/network.r2d3/blob/main/R/as_tree_data.R" class="external-link"><code>R/as_tree_data.R</code></a></small>
      <div class="d-none name"><code>as_tree_data.Rd</code></div>
    </div>

    <div class="ref-description section level2">
    <p>The <code>tree_network</code> function uses a 'native' data format that consists of a data
frame with minimally 2 vectors/columns, one named <code>'nodeId'</code> and one named
<code>'parentId'</code>. Other columns in the data frame are also passed on to the
JavaScript code and attached to the elements in the D3 visualization so that
they can potentially be accessed by other JavaScript functions. This is an
advantageous format because:</p><ul><li><p>it's an easy to use and understand R-like format</p></li>
<li><p>a hierarchical network can be succinctly defined by a list of each unique
node and its parent node</p></li>
<li><p>since each row defines a unique node, additional columns can be added to
add node-specific properties</p></li>
<li><p>in a hierarchical network, every link/edge can be uniquely identified by
the node which it leads to, therefore each link/edge can also be specifically
addressed by adding columns for formatting of the incoming link</p></li>
</ul><p><code>as_tree_data</code> can convert from any of the following data types:</p><ul><li><p><code>leafpathdf</code> (table)–<code>parent|parent|node</code>–<code>data.frame</code></p></li>
<li><p>hierarchical nested list (JSON)</p></li>
<li><p><code>hclust</code></p></li>
<li><p><code>data.tree</code> Node</p></li>
<li><p>igraph</p></li>
<li><p>ape <code>phylo</code></p></li>
</ul></div>

    <div class="section level2">
    <h2 id="ref-usage">Usage<a class="anchor" aria-label="anchor" href="#ref-usage"></a></h2>
    <div class="sourceCode"><pre class="sourceCode r"><code><span><span class="fu">as_tree_data</span><span class="op">(</span><span class="va">data</span>, <span class="va">...</span><span class="op">)</span></span>
<span></span>
<span><span class="co"># S3 method for class 'character'</span></span>
<span><span class="fu">as_tree_data</span><span class="op">(</span><span class="va">data</span>, <span class="va">...</span><span class="op">)</span></span>
<span></span>
<span><span class="co"># S3 method for class 'hclust'</span></span>
<span><span class="fu">as_tree_data</span><span class="op">(</span><span class="va">data</span>, <span class="va">...</span><span class="op">)</span></span>
<span></span>
<span><span class="co"># S3 method for class 'list'</span></span>
<span><span class="fu">as_tree_data</span><span class="op">(</span><span class="va">data</span>, children_name <span class="op">=</span> <span class="st">"children"</span>, node_name <span class="op">=</span> <span class="st">"name"</span>, <span class="va">...</span><span class="op">)</span></span>
<span></span>
<span><span class="co"># S3 method for class 'Node'</span></span>
<span><span class="fu">as_tree_data</span><span class="op">(</span><span class="va">data</span>, <span class="va">...</span><span class="op">)</span></span>
<span></span>
<span><span class="co"># S3 method for class 'phylo'</span></span>
<span><span class="fu">as_tree_data</span><span class="op">(</span><span class="va">data</span>, <span class="va">...</span><span class="op">)</span></span>
<span></span>
<span><span class="co"># S3 method for class 'tbl_graph'</span></span>
<span><span class="fu">as_tree_data</span><span class="op">(</span><span class="va">data</span>, <span class="va">...</span><span class="op">)</span></span>
<span></span>
<span><span class="co"># S3 method for class 'igraph'</span></span>
<span><span class="fu">as_tree_data</span><span class="op">(</span><span class="va">data</span>, root <span class="op">=</span> <span class="st">"root"</span>, <span class="va">...</span><span class="op">)</span></span>
<span></span>
<span><span class="co"># S3 method for class 'data.frame'</span></span>
<span><span class="fu">as_tree_data</span><span class="op">(</span></span>
<span>  <span class="va">data</span>,</span>
<span>  cols <span class="op">=</span> <span class="cn">NULL</span>,</span>
<span>  df_type <span class="op">=</span> <span class="st">"treenetdf"</span>,</span>
<span>  subset <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/names.html" class="external-link">names</a></span><span class="op">(</span><span class="va">data</span><span class="op">)</span>,</span>
<span>  <span class="va">root</span>,</span>
<span>  <span class="va">...</span></span>
<span><span class="op">)</span></span></code></pre></div>
    </div>

    <div class="section level2">
    <h2 id="arguments">Arguments<a class="anchor" aria-label="anchor" href="#arguments"></a></h2>


<dl><dt id="arg-data">data<a class="anchor" aria-label="anchor" href="#arg-data"></a></dt>
<dd><p>a tree network description in one of numerous forms (see
details).</p></dd>


<dt id="arg--">...<a class="anchor" aria-label="anchor" href="#arg--"></a></dt>
<dd><p>other arguments that will be passed on to as_tree_data</p></dd>


<dt id="arg-children-name">children_name<a class="anchor" aria-label="anchor" href="#arg-children-name"></a></dt>
<dd><p>character specifying the name used for the list element
that contains the childeren elements.</p></dd>


<dt id="arg-node-name">node_name<a class="anchor" aria-label="anchor" href="#arg-node-name"></a></dt>
<dd><p>character specifying the name used for the list element that
contains the name of the node</p></dd>


<dt id="arg-root">root<a class="anchor" aria-label="anchor" href="#arg-root"></a></dt>
<dd><p>root name.</p></dd>


<dt id="arg-cols">cols<a class="anchor" aria-label="anchor" href="#arg-cols"></a></dt>
<dd><p>named character vector specifying the names of columns to be
converted to the standard <code>treenetdf</code> names.</p></dd>


<dt id="arg-df-type">df_type<a class="anchor" aria-label="anchor" href="#arg-df-type"></a></dt>
<dd><p>character specifying which type of data frame to convert. Can
be <code>treenetdf</code> or
<code>leafpathdf</code>.</p></dd>


<dt id="arg-subset">subset<a class="anchor" aria-label="anchor" href="#arg-subset"></a></dt>
<dd><p>character vector specifying the names of the columns (in order)
that should be used to define the hierarchy.</p></dd>

</dl></div>
    <div class="section level2">
    <h2 id="methods-by-class-">Methods (by class)<a class="anchor" aria-label="anchor" href="#methods-by-class-"></a></h2>

<ul><li><p><code>as_tree_data(character)</code>: Convert JSON from URL to <code>treenetdf</code></p></li>
<li><p><code>as_tree_data(hclust)</code>: Convert hclust objects to <code>treenetdf</code></p></li>
<li><p><code>as_tree_data(list)</code>: Convert a nested list to <code>treenetdf</code></p></li>
<li><p><code>as_tree_data(Node)</code>: data.tree to <code>treenetdf</code></p></li>
<li><p><code>as_tree_data(phylo)</code>: Phylo tree to <code>treenetdf</code></p></li>
<li><p><code>as_tree_data(tbl_graph)</code>: tbl_graph_to_treenetdf</p></li>
<li><p><code>as_tree_data(igraph)</code>: Convert igraph tree to <code>treenetdf</code></p></li>
<li><p><code>as_tree_data(data.frame)</code>: Convert a data.frame to a <code>treenetdf</code></p></li>
</ul></div>

    <div class="section level2">
    <h2 id="ref-examples">Examples<a class="anchor" aria-label="anchor" href="#ref-examples"></a></h2>
    <div class="sourceCode"><pre class="sourceCode r"><code><span class="r-in"><span><span class="va">links</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/utils/read.table.html" class="external-link">read.csv</a></span><span class="op">(</span>header <span class="op">=</span> <span class="cn">TRUE</span>, stringsAsFactors <span class="op">=</span> <span class="cn">FALSE</span>, text <span class="op">=</span> <span class="st">'</span></span></span>
<span class="r-in"><span><span class="st">                   source,target,name</span></span></span>
<span class="r-in"><span><span class="st">                   1,,one</span></span></span>
<span class="r-in"><span><span class="st">                   2,1,two</span></span></span>
<span class="r-in"><span><span class="st">                   3,1,three</span></span></span>
<span class="r-in"><span><span class="st">                   4,1,four</span></span></span>
<span class="r-in"><span><span class="st">                   5,2,five</span></span></span>
<span class="r-in"><span><span class="st">                   6,2,six</span></span></span>
<span class="r-in"><span><span class="st">                   7,2,seven</span></span></span>
<span class="r-in"><span><span class="st">                   8,6,eight'</span><span class="op">)</span></span></span>
<span class="r-in"><span></span></span>
<span class="r-in"><span> <span class="co"># Convert data</span></span></span>
<span class="r-in"><span> <span class="fu">as_tree_data</span><span class="op">(</span><span class="va">links</span>, cols <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span>nodeId <span class="op">=</span> <span class="st">'source'</span>, parentId <span class="op">=</span> <span class="st">'target'</span><span class="op">)</span><span class="op">)</span></span></span>
<span class="r-out co"><span class="r-pr">#&gt;</span> <span style="color: #949494;"># A tibble: 8 × 3</span></span>
<span class="r-out co"><span class="r-pr">#&gt;</span>   nodeId parentId name </span>
<span class="r-out co"><span class="r-pr">#&gt;</span>    <span style="color: #949494; font-style: italic;">&lt;int&gt;</span>    <span style="color: #949494; font-style: italic;">&lt;int&gt;</span> <span style="color: #949494; font-style: italic;">&lt;chr&gt;</span></span>
<span class="r-out co"><span class="r-pr">#&gt;</span> <span style="color: #BCBCBC;">1</span>      1       <span style="color: #BB0000;">NA</span> one  </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> <span style="color: #BCBCBC;">2</span>      2        1 two  </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> <span style="color: #BCBCBC;">3</span>      3        1 three</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> <span style="color: #BCBCBC;">4</span>      4        1 four </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> <span style="color: #BCBCBC;">5</span>      5        2 five </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> <span style="color: #BCBCBC;">6</span>      6        2 six  </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> <span style="color: #BCBCBC;">7</span>      7        2 seven</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> <span style="color: #BCBCBC;">8</span>      8        6 eight</span>
<span class="r-in"><span></span></span>
</code></pre></div>
    </div>
  </main><aside class="col-md-3"><nav id="toc" aria-label="Table of contents"><h2>On this page</h2>
    </nav></aside></div>


    <footer><div class="pkgdown-footer-left">
  <p>Developed by CJ Yetman.</p>
</div>

<div class="pkgdown-footer-right">
  <p>Site built with <a href="https://pkgdown.r-lib.org/" class="external-link">pkgdown</a> 2.1.3.</p>
</div>

    </footer></div>





  </body></html>

